<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>What's the Damage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous" defer></script>
</head>
<body>
    <div class="container">
        <h1 class="text-center p-2 pb-1">What's the Damage</h1>
        <h5 class="text-center p-2">A tool to process your KHBHU bank account history exported in a CSV file.</h5>
        <form action="/process" method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-header bg-dark text-white">
                            File Uploads
                        </div>
                        <div class="card-body bg-light">
                            <div class="mb-3">
                                <label for="filename" class="form-label">CSV file:</label>
                                <input type="file" class="form-control" id="filename" name="filename" aria-describedby="fileHelp" required>
                                <div id="fileHelp" class="form-text">Upload your exported bank account history in CSV file here.</div>
                            </div>
                            <div class="mb-3">
                                <label for="config" class="form-label">Config file:</label>
                                <input type="file" class="form-control" id="config" name="config" aria-describedby="configHelp" required>
                                <div id="configHelp" class="form-text">Upload your configuration file here.</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-header bg-dark text-white">
                            Filters
                        </div>
                        <div class="card-body bg-light">
                            <div class="mb-3">
                                <label for="start_date" class="form-label">Start Date:</label>
                                <input type="date" class="form-control" id="start_date" name="start_date" aria-describedby="dateStartHelp" value="{{ form_data.get('start_date', '') }}">
                                <div id="dateStartHelp" class="form-text">Filter results starting from this date.</div>
                            </div>
                            <div class="mb-3">
                                <label for="end_date" class="form-label">End Date:</label>
                                <input type="date" class="form-control" id="end_date" name="end_date" aria-describedby="dateEndHelp" value="{{ form_data.get('end_date', '') }}">
                                <div id="dateEndHelp" class="form-text">Filter results up until this date.</div>
                            </div>
                            <div class="mb-3">
                                <label for="filter" class="form-label">Filter:</label>
                                <input type="text" class="form-control" id="filter" name="filter" aria-describedby="filterHelp" placeholder="Enter the name of category" value="{{ form_data.get('filter', '') }}">
                                <div id="filterHelp" class="form-text">Filter by category.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-3">
                    <div class="card">
                        <div class="card-header bg-dark text-white">
                            Advanced settings
                        </div>
                        <div class="card-body bg-light">
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="verbose" name="verbose" {% if form_data.get('verbose') %}checked{% endif %}>
                                <label class="form-check-label" for="verbose">Verbose logs (only appear in server logs)</label>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="no_currency_format" name="no_currency_format" {% if form_data.get('no_currency_format') %}checked{% endif %}>
                                <label class="form-check-label" for="no_currency_format">No Currency Format</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary mt-3">Submit</button>
        </form>
    </div>
</body>
</html>